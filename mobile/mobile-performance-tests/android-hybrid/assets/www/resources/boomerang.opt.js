BOOMR_start=(new Date).getTime(),function(e){var t,n,r,i=e.document;typeof BOOMR=="undefined"&&(BOOMR={});if(BOOMR.version)return;BOOMR.version="0.9",t={beacon_url:"",site_domain:e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[]},vars:{},disabled_plugins:{},fireEvent:function(e,t){var n,r,i;if(!this.events.hasOwnProperty(e))return!1;i=this.events[e];for(n=0;n<i.length;n++)r=i[n],r[0].call(r[2],t,r[1]);return!0},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},n={t_start:BOOMR_start,t_end:null,utils:{getCookie:function(e){if(!e)return null;e=" "+e+"=";var t,n;return n=" "+i.cookie+";",(t=n.indexOf(e))>=0?(t+=e.length,n=n.substring(t,n.indexOf(";",t)),n):null},setCookie:function(e,n,r){var s=[],o,u,a,f;if(!e)return!1;for(o in n)n.hasOwnProperty(o)&&s.push(encodeURIComponent(o)+"="+encodeURIComponent(n[o]));return s=s.join("&"),u=e+"="+s,a=[u,"path=/","domain="+t.site_domain],r&&(f=new Date,f.setTime(f.getTime()+r*1e3),f=f.toGMTString(),a.push("expires="+f)),u.length<4e3?(i.cookie=a.join("; "),s===this.getCookie(e)):!1},getSubCookies:function(e){var t,n,r,i,s={};if(!e)return null;t=e.split("&");if(t.length===0)return null;for(n=0,r=t.length;n<r;n++)i=t[n].split("="),i.push(""),s[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return s},removeCookie:function(e){return this.setCookie(e,{},0)},pluginConfig:function(e,t,n,r){var i,s=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)typeof t[n][r[i]]!="undefined"&&(e[r[i]]=t[n][r[i]],s++);return s>0}},init:function(n){var r,s,o=["beacon_url","site_domain","user_ip"];n||(n={});for(r=0;r<o.length;r++)typeof n[o[r]]!="undefined"&&(t[o[r]]=n[o[r]]);typeof n.log!="undefined"&&(this.log=n.log),this.log||(this.log=function(e,t,n){});for(s in this.plugins){if(n[s]&&"enabled"in n[s]&&n[s].enabled===!1){t.disabled_plugins[s]=1;continue}t.disabled_plugins[s]&&delete t.disabled_plugins[s],this.plugins.hasOwnProperty(s)&&typeof this.plugins[s].init=="function"&&this.plugins[s].init(n)}if(!("autorun"in n)||n.autorun!==!1)"onpagehide"in e?t.addListener(e,"pageshow",BOOMR.page_ready):t.addListener(e,"load",BOOMR.page_ready);t.addListener(e,"DOMContentLoaded",function(){t.fireEvent("dom_loaded")});var u=function(){t.fireEvent("visibility_changed")};return i.webkitVisibilityState?t.addListener(i,"webkitvisibilitychange",u):i.msVisibilityState?t.addListener(i,"msvisibilitychange",u):i.visibilityState&&t.addListener(i,"visibilitychange",u),"onpagehide"in e||t.addListener(e,"unload",function(){e=null}),this},page_ready:function(){return t.fireEvent("page_ready"),this},subscribe:function(n,r,i,s){var o,u,a;if(!t.events.hasOwnProperty(n))return this;a=t.events[n];for(o=0;o<a.length;o++){u=a[o];if(u[0]===r&&u[1]===i&&u[2]===s)return this}a.push([r,i||{},s||null]);if(n==="page_unload"){var f=function(){r&&r.call(s,null,i),r=s=i=null};"onpagehide"in e?t.addListener(e,"pagehide",f):(t.addListener(e,"unload",f),t.addListener(e,"beforeunload",f))}return this},addVar:function(e,n){if(typeof e=="string")t.vars[e]=n;else if(typeof e=="object"){var r=e,i;for(i in r)r.hasOwnProperty(i)&&(t.vars[i]=r[i])}return this},removeVar:function(){var e,n;if(!arguments.length)return this;arguments.length===1&&Object.prototype.toString.apply(arguments[0])==="[object Array]"?n=arguments[0]:n=arguments;for(e=0;e<n.length;e++)t.vars.hasOwnProperty(n[e])&&delete t.vars[n[e]];return this},sendBeacon:function(){var e,n,r,s=0;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(t.disabled_plugins[e])continue;if(!this.plugins[e].is_complete())return this}t.vars.v=BOOMR.version,t.vars.u=i.URL.replace(/#.*/,""),t.fireEvent("before_beacon",t.vars);if(!t.beacon_url)return this;n=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?");for(e in t.vars)t.vars.hasOwnProperty(e)&&(s++,n+="&"+encodeURIComponent(e)+"="+(t.vars[e]===undefined||t.vars[e]===null?"":encodeURIComponent(t.vars[e])));return s&&(r=new Image,r.src=n),this}},delete BOOMR_start;var s=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}};n.debug=s("debug"),n.info=s("info"),n.warn=s("warn"),n.error=s("error"),e.YAHOO&&e.YAHOO.widget&&e.YAHOO.widget.Logger?n.log=e.YAHOO.log:typeof e.Y!="undefined"&&typeof e.Y.log!="undefined"?n.log=e.Y.log:typeof console!="undefined"&&typeof console.log!="undefined"&&(n.log=function(e,t,n){console.log(n+": ["+t+"] "+e)});for(r in n)n.hasOwnProperty(r)&&(BOOMR[r]=n[r]);BOOMR.plugins=BOOMR.plugins||{}}(window),function(e){BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var t={complete:!1,done:function(){var t=e.performance,n=e.console,r=e.document,i={}.toString.call(window.opera)=="[object Opera]"?r.querySelectorAll:r.getElementsByTagName,s;s=t&&t.memory?t.memory:n&&n.memory?n.memory:null,s&&BOOMR.addVar({"mem.total":s.totalJSHeapSize,"mem.used":s.usedJSHeapSize}),BOOMR.addVar({"dom.ln":i.call(r,"*").length,"dom.sz":i.call(r,"html")[0].innerHTML.length}),this.complete=!0,BOOMR.sendBeacon()}};BOOMR.plugins.Memory={init:function(){return BOOMR.subscribe("page_ready",t.done,null,t),this},is_complete:function(){return t.complete}}}(window),BOOMR.addVar("mob.ct",typeof navigator!="undefined"&&navigator.connection?navigator.connection.type:0),function(e){BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var t={complete:!1,done:function(){var t,n,r,i;t=e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance,t&&t.timing&&t.navigation&&(BOOMR.info("This user agent supports NavigationTiming.","nt"),n=e.performance.navigation,r=e.performance.timing,i={nt_red_cnt:n.redirectCount,nt_nav_type:n.type,nt_nav_st:r.navigationStart,nt_red_st:r.redirectStart,nt_red_end:r.redirectEnd,nt_fet_st:r.fetchStart,nt_dns_st:r.domainLookupStart,nt_dns_end:r.domainLookupEnd,nt_con_st:r.connectStart,nt_con_end:r.connectEnd,nt_req_st:r.requestStart,nt_res_st:r.responseStart,nt_res_end:r.responseEnd,nt_domloading:r.domLoading,nt_domint:r.domInteractive,nt_domcontloaded_st:r.domContentLoadedEventStart,nt_domcontloaded_end:r.domContentLoadedEventEnd,nt_domcomp:r.domComplete,nt_load_st:r.loadEventStart,nt_load_end:r.loadEventEnd,nt_unload_st:r.unloadEventStart,nt_unload_end:r.unloadEventEnd},r.secureConnectionStart&&(i.nt_ssl_st=r.secureConnectionStart),BOOMR.addVar(i)),this.complete=!0,BOOMR.sendBeacon()}};BOOMR.plugins.NavigationTiming={init:function(){return BOOMR.subscribe("page_ready",t.done,null,t),this},is_complete:function(){return t.complete}}}(window),function(e){var t=e.document;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var n={complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,r:undefined,r2:undefined,setCookie:function(){var e,n=(new Date).getTime();return this.cookie?BOOMR.utils.setCookie(this.cookie,{s:n,r:t.URL.replace(/#.*/,"")},this.cookie_exp)?(e=(new Date).getTime(),e-n>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+n+" -> "+e,"rt")),this):(BOOMR.error("cannot set start cookie","rt"),this):this},initFromCookie:function(){var e;this.r=this.r2=t.referrer.replace(/#.*/,"");if(!this.cookie)return;e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie));if(!e)return;if(e.s&&e.r){this.r=e.r;if(!this.strict_referrer||this.r===this.r2)this.t_start=parseInt(e.s,10)}},checkPreRender:function(){return!!t.webkitVisibilityState&&t.webkitVisibilityState==="prerender"||!!t.msVisibilityState&&t.msVisibilityState===3?(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,null,BOOMR.plugins.RT),!0):!1},initNavTiming:function(){var t,n,r;if(this.navigationStart)return;n=e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance,n&&n.navigation&&(this.navigationType=n.navigation.type),n&&n.timing?t=n.timing:e.chrome&&e.chrome.csi&&e.chrome.csi().startE?(t={navigationStart:e.chrome.csi().startE},r="csi"):e.gtbExternal&&e.gtbExternal.startE()&&(t={navigationStart:e.gtbExternal.startE()},r="gtb"),t?(BOOMR.addVar("rt.start",r||"navigation"),this.navigationStart=t.navigationStart||t.fetchStart||undefined,this.responseStart=t.responseStart||undefined,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||undefined)):BOOMR.warn("This browser doesn't support the WebTiming API","rt");return},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(e){return BOOMR.utils.pluginConfig(n,e,"RT",["cookie","cookie_exp","strict_referrer"]),n.complete?this:(n.complete=!1,n.timers={},BOOMR.subscribe("page_ready",this.done,null,this),BOOMR.subscribe("dom_loaded",n.domloaded,null,n),BOOMR.subscribe("page_unload",n.setCookie,null,n),BOOMR.t_start&&(this.startTimer("boomerang",BOOMR.t_start),this.endTimer("boomerang",BOOMR.t_end),this.endTimer("boomr_fb",BOOMR.t_start)),this)},startTimer:function(e,t){return e&&(e==="t_page"&&this.endTimer("t_resp",t),n.timers[e]={start:typeof t=="number"?t:(new Date).getTime()},n.complete=!1),this},endTimer:function(e,t){return e&&(n.timers[e]=n.timers[e]||{},"end"in n.timers[e]||(n.timers[e].end=typeof t=="number"?t:(new Date).getTime())),this},setTimer:function(e,t){return e&&(n.timers[e]={delta:t}),this},done:function(){var e,t=(new Date).getTime(),r={t_done:1,t_resp:1,t_page:1},i=0,s,o,u=[];n.complete=!1,n.initNavTiming();if(n.checkPreRender())return this;n.responseStart?(this.endTimer("t_resp",n.responseStart),n.timers.t_load?this.setTimer("t_page",n.timers.t_load.end-n.responseStart):this.setTimer("t_page",t-n.responseStart)):n.timers.hasOwnProperty("t_page")&&this.endTimer("t_page"),n.timers.hasOwnProperty("t_postrender")&&(this.endTimer("t_postrender"),this.endTimer("t_prerender")),n.navigationStart?e=n.navigationStart:n.t_start&&n.navigationType!==2?(e=n.t_start,BOOMR.addVar("rt.start","cookie")):(BOOMR.addVar("rt.start","none"),e=undefined),n.initFromCookie(),this.endTimer("t_done",t),BOOMR.removeVar("t_done","t_page","t_resp","r","r2","rt.tstart","rt.bstart","rt.end","t_postrender","t_prerender","t_load"),BOOMR.addVar("rt.tstart",e),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.addVar("rt.end",n.timers.t_done.end);for(s in n.timers){if(!n.timers.hasOwnProperty(s))continue;o=n.timers[s],typeof o.delta!="number"&&(typeof o.start!="number"&&(o.start=e),o.delta=o.end-o.start);if(isNaN(o.delta))continue;r.hasOwnProperty(s)?BOOMR.addVar(s,o.delta):u.push(s+"|"+o.delta),i++}return i&&(BOOMR.addVar("r",n.r),n.r2!==n.r&&BOOMR.addVar("r2",n.r2),u.length&&BOOMR.addVar("t_other",u.join(","))),n.timers={},n.complete=!0,BOOMR.sendBeacon(),this},is_complete:function(){return n.complete}}}(window)