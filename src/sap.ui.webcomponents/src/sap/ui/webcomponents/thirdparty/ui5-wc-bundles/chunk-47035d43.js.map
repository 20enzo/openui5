{"version":3,"file":"chunk-47035d43.js","sources":["../../../../../../../../../ui5-webcomponents/packages/main/dist/types/PopoverPlacementType.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/types/PopoverVerticalAlign.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/types/PopoverHorizontalAlign.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/popup-utils/PopoverRegistry.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/generated/templates/PopoverTemplate.lit.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/generated/themes/Popover.css.js","../../../../../../../../../ui5-webcomponents/packages/main/dist/Popover.js"],"sourcesContent":["import DataType from \"@ui5/webcomponents-base/dist/types/DataType.js\";\n\n/**\n * @lends sap.ui.webcomponents.main.types.PopoverPlacementType.prototype\n * @public\n */\nconst PopoverPlacementTypes = {\n\t/**\n\t * Popover will be placed at the left side of the reference element.\n\t * @public\n\t * @type {Left}\n\t */\n\tLeft: \"Left\",\n\n\t/**\n\t * Popover will be placed at the right side of the reference element.\n\t * @public\n\t * @type {Right}\n\t */\n\tRight: \"Right\",\n\n\t/**\n\t * Popover will be placed at the top of the reference element.\n\t * @public\n\t * @type {Bottom}\n\t */\n\tTop: \"Top\",\n\n\t/**\n\t * Popover will be placed at the bottom of the reference element.\n\t * @public\n\t * @type {Bottom}\n\t */\n\tBottom: \"Bottom\",\n};\n\n/**\n * @class\n * Types for the placement of Popover control.\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.types.PopoverPlacementType\n * @public\n * @enum {string}\n */\nclass PopoverPlacementType extends DataType {\n\tstatic isValid(value) {\n\t\treturn !!PopoverPlacementTypes[value];\n\t}\n}\n\nPopoverPlacementType.generataTypeAcessors(PopoverPlacementTypes);\n\nexport default PopoverPlacementType;\n","import DataType from \"@ui5/webcomponents-base/dist/types/DataType.js\";\n\n\n/**\n * @lends sap.ui.webcomponents.main.types.PopoverVerticalAlign.prototype\n * @public\n */\nconst PopoverVerticalAligns = {\n\t/**\n\t *\n\t * @public\n\t * @type {Center}\n\t */\n\tCenter: \"Center\",\n\n\t/**\n\t * Popover will be placed at the top of the reference control.\n\t * @public\n\t * @type {Top}\n\t */\n\tTop: \"Top\",\n\n\t/**\n\t * Popover will be placed at the bottom of the reference control.\n\t * @public\n\t * @type {Bottom}\n\t */\n\tBottom: \"Bottom\",\n\n\t/**\n\t * Popover will be streched\n\t * @public\n\t * @type {Stretch}\n\t */\n\tStretch: \"Stretch\",\n};\n\n/**\n * @class\n * Types for the placement of message Popover control.\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.types.PopoverVerticalAlign\n * @public\n * @enum {string}\n */\nclass PopoverVerticalAlign extends DataType {\n\tstatic isValid(value) {\n\t\treturn !!PopoverVerticalAligns[value];\n\t}\n}\n\nPopoverVerticalAlign.generataTypeAcessors(PopoverVerticalAligns);\n\nexport default PopoverVerticalAlign;\n","import DataType from \"@ui5/webcomponents-base/dist/types/DataType.js\";\n\n/**\n * @lends sap.ui.webcomponents.main.types.PopoverHorizontalAlign.prototype\n * @public\n */\nconst PopoverHorizontalAligns = {\n\t/**\n\t * Popover is centered\n\t * @public\n\t * @type {Center}\n\t */\n\tCenter: \"Center\",\n\n\t/**\n\t * Popover opens on the left side of the target\n\t * @public\n\t * @type {Left}\n\t */\n\tLeft: \"Left\",\n\n\t/**\n\t * Popover opens on the right side of the target\n\t * @public\n\t * @type {Right}\n\t */\n\tRight: \"Right\",\n\n\t/**\n\t * Popover is stretched\n\t * @public\n\t * @type {Stretch}\n\t */\n\tStretch: \"Stretch\",\n};\n\n/**\n * @class\n * Defines the horizontal alignment of <code>ui5-popover</code>\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.types.PopoverHorizontalAlign\n * @public\n * @enum {string}\n */\nclass PopoverHorizontalAlign extends DataType {\n\tstatic isValid(value) {\n\t\treturn !!PopoverHorizontalAligns[value];\n\t}\n}\n\nPopoverHorizontalAlign.generataTypeAcessors(PopoverHorizontalAligns);\n\nexport default PopoverHorizontalAlign;\n","import { isClickInRect } from \"./PopupUtils.js\";\nimport { getOpenedPopups, addOpenedPopup, removeOpenedPopup } from \"./OpenedPopupsRegistry.js\";\n\n\nlet updateInterval = null;\nconst intervalTimeout = 300;\nconst openedRegistry = [];\n\nconst repositionPopovers = event => {\n\topenedRegistry.forEach(popover => {\n\t\tpopover.instance.reposition();\n\t});\n};\n\nconst attachGlobalScrollHandler = () => {\n\tdocument.body.addEventListener(\"scroll\", repositionPopovers, true);\n};\n\nconst detachGlobalScrollHandler = () => {\n\tdocument.body.removeEventListener(\"scroll\", repositionPopovers, true);\n};\n\nconst runUpdateInterval = () => {\n\tupdateInterval = setInterval(() => {\n\t\trepositionPopovers();\n\t}, intervalTimeout);\n};\n\nconst stopUpdateInterval = () => {\n\tclearInterval(updateInterval);\n};\n\nconst attachGlobalClickHandler = () => {\n\tdocument.addEventListener(\"mousedown\", clickHandler);\n};\n\nconst detachGlobalClickHandler = () => {\n\tdocument.removeEventListener(\"mousedown\", clickHandler);\n};\n\nconst clickHandler = event => {\n\tconst openedPopups = getOpenedPopups();\n\tconst isTopPopupPopover = openedPopups[openedPopups.length - 1].instance.openBy;\n\n\tif (openedPopups.length === 0 || !isTopPopupPopover) {\n\t\treturn;\n\t}\n\n\t// loop all open popovers\n\tfor (let i = (openedPopups.length - 1); i !== -1; i--) {\n\t\tconst popup = openedPopups[i].instance;\n\n\t\t// if popup is modal, opener is clicked, popup is dialog skip closing\n\t\tif (popup.isModal || popup.isOpenerClicked(event)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isClickInRect(event, popup.getBoundingClientRect())) {\n\t\t\tbreak;\n\t\t}\n\n\t\tpopup.close();\n\t}\n};\n\nconst attachScrollHandler = popover => {\n\tpopover && popover.shadowRoot.addEventListener(\"scroll\", repositionPopovers, true);\n};\n\nconst detachScrollHandler = popover => {\n\tpopover && popover.shadowRoot.removeEventListener(\"scroll\", repositionPopovers);\n};\n\nconst addOpenedPopover = instance => {\n\tconst parentPopovers = getParentPopoversIfNested(instance);\n\n\taddOpenedPopup(instance, parentPopovers);\n\topenedRegistry.push({\n\t\tinstance,\n\t\tparentPopovers,\n\t});\n\n\tattachScrollHandler(instance);\n\n\tif (openedRegistry.length === 1) {\n\t\tattachGlobalScrollHandler();\n\t\tattachGlobalClickHandler();\n\t\trunUpdateInterval();\n\t}\n};\n\nconst removeOpenedPopover = instance => {\n\tconst popoversToClose = [instance];\n\n\tfor (let i = 0; i < openedRegistry.length; i++) {\n\t\tconst indexOfCurrentInstance = openedRegistry[i].parentPopovers.indexOf(instance);\n\t\tif (openedRegistry[i].parentPopovers.length > 0 && indexOfCurrentInstance > -1) {\n\t\t\tpopoversToClose.push(openedRegistry[i].instance);\n\t\t}\n\t}\n\n\tfor (let i = popoversToClose.length - 1; i >= 0; i--) {\n\t\tfor (let j = 0; j < openedRegistry.length; j++) {\n\t\t\tlet indexOfItemToRemove;\n\t\t\tif (popoversToClose[i] === openedRegistry[j].instance) {\n\t\t\t\tindexOfItemToRemove = j;\n\t\t\t}\n\n\n\t\t\tif (indexOfItemToRemove >= 0) {\n\t\t\t\tremoveOpenedPopup(openedRegistry[indexOfItemToRemove].instance);\n\t\t\t\tdetachScrollHandler(openedRegistry[indexOfItemToRemove].instance);\n\t\t\t\tconst itemToClose = openedRegistry.splice(indexOfItemToRemove, 1);\n\t\t\t\titemToClose[0].instance.close(false, true);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!openedRegistry.length) {\n\t\tdetachGlobalScrollHandler();\n\t\tdetachGlobalClickHandler();\n\t\tstopUpdateInterval();\n\t}\n};\n\nconst getRegistry = () => {\n\treturn openedRegistry;\n};\n\nconst getParentPopoversIfNested = instance => {\n\tlet currentElement = instance.parentNode;\n\tconst parentPopovers = [];\n\n\twhile (currentElement.parentNode) {\n\t\tfor (let i = 0; i < openedRegistry.length; i++) {\n\t\t\tif (currentElement && currentElement === openedRegistry[i].instance) {\n\t\t\t\tparentPopovers.push(currentElement);\n\t\t\t}\n\t\t}\n\n\t\tcurrentElement = currentElement.parentNode;\n\t}\n\n\treturn parentPopovers;\n};\n\nexport { addOpenedPopover, removeOpenedPopover, getRegistry };\n","\n/* eslint no-unused-vars: 0 */\nimport ifDefined from '@ui5/webcomponents-base/dist/renderer/ifDefined';\nimport { html, svg, repeat, classMap, styleMap, unsafeHTML, setTags, setSuffix } from '@ui5/webcomponents-base/dist/renderer/LitRenderer';\nconst block0 = (context) => { return html`<section style=\"${styleMap(context.styles.root)}\" class=\"${classMap(context.classes.root)}\" role=\"dialog\" aria-modal=\"${ifDefined(context._ariaModal)}\" aria-label=\"${ifDefined(context._ariaLabel)}\" aria-labelledby=\"${ifDefined(context._ariaLabelledBy)}\"><span class=\"first-fe\" data-ui5-focus-trap tabindex=\"0\" @focusin=${context.forwardToLast}></span><span class=\"ui5-popover-arrow\" style=\"${styleMap(context.styles.arrow)}\"></span>${ context._displayHeader ? block1(context) : undefined }<div style=\"${styleMap(context.styles.content)}\" class=\"${classMap(context.classes.content)}\"  @scroll=\"${context._scroll}\"><slot></slot></div>${ context._displayFooter ? block4(context) : undefined }<span class=\"last-fe\" data-ui5-focus-trap tabindex=\"0\" @focusin=${context.forwardToFirst}></span></section> `; };\nconst block1 = (context) => { return html`<header class=\"ui5-popup-header-root\" id=\"ui5-popup-header\">${ context.header.length ? block2(context) : block3(context) }</header>`; };\nconst block2 = (context) => { return html`<slot name=\"header\"></slot>`; };\nconst block3 = (context) => { return html`<h2 class=\"ui5-popup-header-text\">${ifDefined(context.headerText)}</h2>`; };\nconst block4 = (context) => { return html`${ context.footer.length ? block5(context) : undefined }`; };\nconst block5 = (context) => { return html`<footer class=\"ui5-popup-footer-root\"><slot name=\"footer\"></slot></footer>`; };\n\n\nconst main = (context, tags, suffix) => {\n\tsetTags(tags);\n\tsetSuffix(suffix);\n\treturn block0(context);\n};\n \nexport default main;","import { registerThemeProperties } from \"@ui5/webcomponents-base/dist/asset-registries/Themes.js\";\n\nimport defaultThemeBase from \"@ui5/webcomponents-theme-base/dist/generated/themes/sap_fiori_3/parameters-bundle.css.js\";\nimport defaultTheme from \"./sap_fiori_3/parameters-bundle.css.js\";\n\nregisterThemeProperties(\"@ui5/webcomponents-theme-base\", \"sap_fiori_3\", defaultThemeBase);\nregisterThemeProperties(\"@ui5/webcomponents\", \"sap_fiori_3\", defaultTheme);\nexport default \".ui5-popover-arrow{pointer-events:none;display:block;width:1rem;height:1rem;position:absolute;overflow:hidden}.ui5-popover-arrow:after{content:\\\"\\\";display:block;width:.7rem;height:.7rem;background-color:var(--sapGroup_ContentBackground);box-shadow:var(--sapContent_Shadow3);transform:rotate(-45deg)}:host([actual-placement-type=Bottom]) .ui5-popover-arrow{left:calc(50% - .5625rem);top:-.5rem;height:.5625rem}:host([actual-placement-type=Bottom]) .ui5-popover-arrow:after{margin:.1875rem 0 0 .1875rem}:host([actual-placement-type=Left]) .ui5-popover-arrow{top:calc(50% - .5625rem);right:-.5625rem;width:.5625rem}:host([actual-placement-type=Left]) .ui5-popover-arrow:after{margin:.1875rem 0 0 -.375rem}:host([actual-placement-type=Top]) .ui5-popover-arrow{left:calc(50% - .5625rem);height:.5625rem;bottom:calc(-1*(var(--_ui5_popup_content_padding) + 2px))}:host([actual-placement-type=Top]) .ui5-popover-arrow:after{margin:-.375rem 0 0 .125rem}:host(:not([actual-placement-type])) .ui5-popover-arrow,:host([actual-placement-type=Right]) .ui5-popover-arrow{left:-.5625rem;top:calc(50% - .5625rem);width:.5625rem;height:1rem}:host(:not([actual-placement-type])) .ui5-popover-arrow:after,:host([actual-placement-type=Right]) .ui5-popover-arrow:after{margin:.125rem 0 0 .25rem}:host([no-arrow]) .ui5-popover-arrow{display:none}\";","import Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport Popup from \"./Popup.js\";\nimport PopoverPlacementType from \"./types/PopoverPlacementType.js\";\nimport PopoverVerticalAlign from \"./types/PopoverVerticalAlign.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport { addOpenedPopover, removeOpenedPopover } from \"./popup-utils/PopoverRegistry.js\";\nimport { getClosedPopupParent } from \"./popup-utils/PopupUtils.js\";\n\n// Template\nimport PopoverTemplate from \"./generated/templates/PopoverTemplate.lit.js\";\n// Styles\nimport PopupsCommonCss from \"./generated/themes/PopupsCommon.css.js\";\nimport PopoverCss from \"./generated/themes/Popover.css.js\";\n\nconst arrowSize = 8;\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-popover\",\n\tproperties: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t\t/**\n\t\t * Defines the header text.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>header</code> slot is provided, the <code>headerText</code> is ignored.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\theaderText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines on which side the <code>ui5-popover</code> is placed at.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Left</code></li>\n\t\t * <li><code>Right</code></li>\n\t\t * <li><code>Top</code></li>\n\t\t * <li><code>Bottom</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {PopoverPlacementType}\n\t\t * @defaultvalue \"Right\"\n\t\t * @public\n\t\t */\n\t\tplacementType: {\n\t\t\ttype: PopoverPlacementType,\n\t\t\tdefaultValue: PopoverPlacementType.Right,\n\t\t},\n\n\t\t/**\n\t\t * Determines the horizontal alignment of the <code>ui5-popover</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Center</code></li>\n\t\t * <li><code>Left</code></li>\n\t\t * <li><code>Right</code></li>\n\t\t * <li><code>Stretch</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {PopoverHorizontalAlign}\n\t\t * @defaultvalue \"Center\"\n\t\t * @public\n\t\t */\n\t\thorizontalAlign: {\n\t\t\ttype: PopoverHorizontalAlign,\n\t\t\tdefaultValue: PopoverHorizontalAlign.Center,\n\t\t},\n\n\t\t/**\n\t\t * Determines the vertical alignment of the <code>ui5-popover</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Center</code></li>\n\t\t * <li><code>Top</code></li>\n\t\t * <li><code>Bottom</code></li>\n\t\t * <li><code>Stretch</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {PopoverVerticalAlign}\n\t\t * @defaultvalue \"Center\"\n\t\t * @public\n\t\t */\n\t\tverticalAlign: {\n\t\t\ttype: PopoverVerticalAlign,\n\t\t\tdefaultValue: PopoverVerticalAlign.Center,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-popover</code> should close when\n\t\t * clicking/tapping outside of the popover.\n\t\t * If enabled, it blocks any interaction with the background.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tmodal: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the <code>ui5-popover</code> arrow is hidden.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tnoArrow: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines if there is no enough space, the <code>ui5-popover</code> can be placed\n\t\t * over the target.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tallowTargetOverlap: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the content is scrollable.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @private\n\t\t */\n\t\tdisableScrolling: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Sets the X translation of the arrow\n\t\t *\n\t\t * @private\n\t\t */\n\t\tarrowTranslateX: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * Sets the Y translation of the arrow\n\t\t *\n\t\t * @private\n\t\t */\n\t\tarrowTranslateY: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * Returns the calculated placement depending on the free space\n\t\t *\n\t\t * @private\n\t\t */\n\t\tactualPlacementType: {\n\t\t\ttype: PopoverPlacementType,\n\t\t\tdefaultValue: PopoverPlacementType.Right,\n\t\t},\n\n\t\t_maxContentHeight: { type: Integer },\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t\t/**\n\t\t * Defines the header HTML Element.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\theader: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the footer HTML Element.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tfooter: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-popover</code> component displays additional information for an object\n * in a compact way and without leaving the page.\n * The Popover can contain various UI elements, such as fields, tables, images, and charts.\n * It can also include actions in the footer.\n *\n * <h3>Structure</h3>\n *\n * The popover has three main areas:\n * <ul>\n * <li>Header (optional)</li>\n * <li>Content</li>\n * <li>Footer (optional)</li>\n * </ul>\n *\n * <b>Note:</b> The <code>ui5-popover</code> is closed when the user clicks\n * or taps outside the popover\n * or selects an action within the popover. You can prevent this with the\n * <code>modal</code> property.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Popover.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Popover\n * @extends Popup\n * @tagname ui5-popover\n * @since 1.0.0-rc.6\n * @public\n */\nclass Popover extends Popup {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn [PopupsCommonCss, PopoverCss];\n\t}\n\n\tstatic get template() {\n\t\treturn PopoverTemplate;\n\t}\n\n\tstatic get MIN_OFFSET() {\n\t\treturn 10; // px\n\t}\n\n\tisOpenerClicked(event) {\n\t\tconst target = event.target;\n\t\treturn target === this._opener || (target.getFocusDomRef && target.getFocusDomRef() === this._opener) || event.composedPath().indexOf(this._opener) > -1;\n\t}\n\n\t/**\n\t * Opens the popover.\n\t * @param {HTMLElement} opener the element that the popover is opened by\n\t * @param {boolean} preventInitialFocus prevents applying the focus inside the popover\n\t * @public\n\t */\n\topenBy(opener, preventInitialFocus = false) {\n\t\tif (!opener || this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._opener = opener;\n\n\t\tsuper.open(preventInitialFocus);\n\t}\n\n\t/**\n\t * Override for the _addOpenedPopup hook, which would otherwise just call addOpenedPopup(this)\n\t * @private\n\t */\n\t_addOpenedPopup() {\n\t\taddOpenedPopover(this);\n\t}\n\n\t/**\n\t * Override for the _removeOpenedPopup hook, which would otherwise just call removeOpenedPopup(this)\n\t * @private\n\t */\n\t_removeOpenedPopup() {\n\t\tremoveOpenedPopover(this);\n\t}\n\n\tshouldCloseDueToOverflow(placement, openerRect) {\n\t\tconst threshold = 32;\n\t\tconst limits = {\n\t\t\t\"Right\": openerRect.right,\n\t\t\t\"Left\": openerRect.left,\n\t\t\t\"Top\": openerRect.top,\n\t\t\t\"Bottom\": openerRect.bottom,\n\t\t};\n\n\t\tconst closedPopupParent = getClosedPopupParent(this._opener);\n\t\tlet overflowsBottom = false;\n\t\tlet overflowsTop = false;\n\n\t\tif (closedPopupParent.openBy) {\n\t\t\tconst contentRect = closedPopupParent.contentDOM.getBoundingClientRect();\n\t\t\toverflowsBottom = openerRect.top > (contentRect.top + contentRect.height);\n\t\t\toverflowsTop = (openerRect.top + openerRect.height) < contentRect.top;\n\t\t}\n\n\t\treturn (limits[placement] < 0 || (limits[placement] + threshold > closedPopupParent.innerHeight)) || overflowsBottom || overflowsTop;\n\t}\n\n\tshouldCloseDueToNoOpener(openerRect) {\n\t\treturn openerRect.top === 0\n\t\t\t&& openerRect.bottom === 0\n\t\t\t&& openerRect.left === 0\n\t\t\t&& openerRect.right === 0;\n\t}\n\n\treposition() {\n\t\tthis.show();\n\t}\n\n\tshow() {\n\t\tlet placement;\n\t\tconst popoverSize = this.popoverSize;\n\t\tconst openerRect = this._opener.getBoundingClientRect();\n\n\t\tif (this.shouldCloseDueToNoOpener(openerRect) && this.isFocusWithin()) {\n\t\t\t// reuse the old placement as the opener is not available,\n\t\t\t// but keep the popover open as the focus is within\n\t\t\tplacement = this._oldPlacement;\n\t\t} else {\n\t\t\tplacement = this.calcPlacement(openerRect, popoverSize);\n\t\t}\n\n\t\tconst stretching = this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n\n\t\tif (this._preventRepositionAndClose) {\n\t\t\treturn this.close();\n\t\t}\n\n\t\tif (this._oldPlacement && (this._oldPlacement.left === placement.left) && (this._oldPlacement.top === placement.top) && stretching) {\n\t\t\tsuper.show();\n\t\t\tthis.style.width = this._width;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._oldPlacement = placement;\n\n\t\tconst popoverOnLeftBorder = this._left === 0;\n\t\tconst popoverOnTopBorder = this._top === 0;\n\n\t\tthis.actualPlacementType = placement.placementType;\n\t\tthis.arrowTranslateX = popoverOnLeftBorder ? placement.arrowX - Popover.MIN_OFFSET : placement.arrowX;\n\t\tthis.arrowTranslateY = popoverOnTopBorder ? placement.arrowY - Popover.MIN_OFFSET : placement.arrowY;\n\n\t\tthis.style.left = `${popoverOnLeftBorder ? Popover.MIN_OFFSET : this._left}px`;\n\t\tthis.style.top = `${popoverOnTopBorder ? Popover.MIN_OFFSET : this._top}px`;\n\t\tsuper.show();\n\n\t\tif (stretching && this._width) {\n\t\t\tthis.style.width = this._width;\n\t\t}\n\t}\n\n\tget popoverSize() {\n\t\tlet width,\n\t\t\theight;\n\t\tlet rect = this.getBoundingClientRect();\n\n\t\tif (this.opened) {\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\treturn { width, height };\n\t\t}\n\n\t\tthis.style.visibility = \"hidden\";\n\t\tthis.style.display = \"block\";\n\n\t\trect = this.getBoundingClientRect();\n\n\t\twidth = rect.width;\n\t\theight = rect.height;\n\n\t\tthis.hide();\n\t\tthis.style.visibility = \"visible\";\n\n\t\treturn { width, height };\n\t}\n\n\tget contentDOM() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-popup-content\");\n\t}\n\n\tget arrowDOM() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-popover-arrow\");\n\t}\n\n\tcalcPlacement(targetRect, popoverSize) {\n\t\tlet left = 0;\n\t\tlet top = 0;\n\t\tconst allowTargetOverlap = this.allowTargetOverlap;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tlet maxHeight = clientHeight;\n\n\t\tlet width = \"\";\n\t\tlet height = \"\";\n\n\t\tconst placementType = this.getActualPlacementType(targetRect, popoverSize);\n\n\t\tthis._preventRepositionAndClose = this.shouldCloseDueToNoOpener(targetRect) || this.shouldCloseDueToOverflow(placementType, targetRect);\n\n\t\tconst isVertical = placementType === PopoverPlacementType.Top\n\t\t\t|| placementType === PopoverPlacementType.Bottom;\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Stretch && isVertical) {\n\t\t\tpopoverSize.width = targetRect.width;\n\t\t\twidth = `${targetRect.width}px`;\n\t\t} else if (this.verticalAlign === PopoverVerticalAlign.Stretch && !isVertical) {\n\t\t\tpopoverSize.height = targetRect.height;\n\t\t\theight = `${targetRect.height}px`;\n\t\t}\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst arrowOffset = this.noArrow ? 0 : arrowSize;\n\n\t\t// calc popover positions\n\t\tswitch (placementType) {\n\t\tcase PopoverPlacementType.Top:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\t\t\ttop = Math.max(targetRect.top - popoverSize.height - arrowOffset, 0);\n\n\t\t\tif (!allowTargetOverlap) {\n\t\t\t\tmaxHeight = targetRect.top - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Bottom:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\ttop = Math.max(Math.min(targetRect.bottom + arrowOffset, clientHeight - popoverSize.height), 0);\n\t\t\t} else {\n\t\t\t\ttop = targetRect.bottom + arrowOffset;\n\t\t\t\tmaxHeight = clientHeight - targetRect.bottom - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Left:\n\t\t\tleft = Math.max(targetRect.left - popoverSize.width - arrowOffset, 0);\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Right:\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\tleft = Math.max(Math.min(targetRect.left + targetRect.width + arrowOffset, clientWidth - popoverSize.width), 0);\n\t\t\t} else {\n\t\t\t\tleft = targetRect.left + targetRect.width + arrowOffset;\n\t\t\t}\n\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\t\t\tbreak;\n\t\t}\n\n\t\t// correct popover positions\n\t\tif (isVertical) {\n\t\t\tif (popoverSize.width > clientWidth || left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t} else if (left + popoverSize.width > clientWidth) {\n\t\t\t\tleft -= left + popoverSize.width - clientWidth;\n\t\t\t}\n\t\t} else {\n\t\t\tif (popoverSize.height > clientHeight || top < 0) { // eslint-disable-line\n\t\t\t\ttop = 0;\n\t\t\t} else if (top + popoverSize.height > clientHeight) {\n\t\t\t\ttop -= top + popoverSize.height - clientHeight;\n\t\t\t}\n\t\t}\n\n\t\tlet maxContentHeight = Math.round(maxHeight);\n\n\t\tconst hasHeader = this.header.length || this.headerText;\n\n\t\tif (hasHeader) {\n\t\t\tconst headerDomRef = this.shadowRoot.querySelector(\".ui5-popup-header-root\")\n\t\t\t\t|| this.shadowRoot.querySelector(\".ui5-popup-header-text\");\n\n\t\t\tif (headerDomRef) {\n\t\t\t\tmaxContentHeight = Math.round(maxHeight - headerDomRef.offsetHeight);\n\t\t\t}\n\t\t}\n\n\t\tthis._maxContentHeight = maxContentHeight;\n\n\t\tconst arrowXCentered = this.horizontalAlign === PopoverHorizontalAlign.Center || this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n\t\tconst arrowTranslateX = isVertical && arrowXCentered ? targetRect.left + targetRect.width / 2 - left - popoverSize.width / 2 : 0;\n\t\tconst arrowTranslateY = !isVertical ? targetRect.top + targetRect.height / 2 - top - popoverSize.height / 2 : 0;\n\n\t\tif (this._left === undefined || Math.abs(this._left - left) > 1.5) {\n\t\t\tthis._left = Math.round(left);\n\t\t}\n\n\t\tif (this._top === undefined || Math.abs(this._top - top) > 1.5) {\n\t\t\tthis._top = Math.round(top);\n\t\t}\n\n\t\treturn {\n\t\t\tarrowX: Math.round(arrowTranslateX),\n\t\t\tarrowY: Math.round(arrowTranslateY),\n\t\t\ttop: this._top,\n\t\t\tleft: this._left,\n\t\t\tplacementType,\n\t\t};\n\t}\n\n\t/**\n\t * Fallbacks to new placement, prioritizing <code>Left</code> and <code>Right</code> placements.\n\t * @private\n\t */\n\tfallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) {\n\t\tif (targetRect.left > popoverSize.width) {\n\t\t\treturn PopoverPlacementType.Left;\n\t\t}\n\n\t\tif (clientWidth - targetRect.right > targetRect.left) {\n\t\t\treturn PopoverPlacementType.Right;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom > popoverSize.height) {\n\t\t\treturn PopoverPlacementType.Bottom;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\treturn PopoverPlacementType.Top;\n\t\t}\n\t}\n\n\tgetActualPlacementType(targetRect, popoverSize) {\n\t\tconst placementType = this.placementType;\n\t\tlet actualPlacementType = placementType;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tswitch (placementType) {\n\t\tcase PopoverPlacementType.Top:\n\t\t\tif (targetRect.top < popoverSize.height\n\t\t\t\t&& targetRect.top < clientHeight - targetRect.bottom) {\n\t\t\t\tactualPlacementType = PopoverPlacementType.Bottom;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Bottom:\n\t\t\tif (clientHeight - targetRect.bottom < popoverSize.height\n\t\t\t\t&& clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\t\tactualPlacementType = PopoverPlacementType.Top;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Left:\n\t\t\tif (targetRect.left < popoverSize.width) {\n\t\t\t\tactualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Right:\n\t\t\tif (clientWidth - targetRect.right < popoverSize.width) {\n\t\t\t\tactualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn actualPlacementType;\n\t}\n\n\tgetVerticalLeft(targetRect, popoverSize) {\n\t\tlet left;\n\n\t\tswitch (this.horizontalAlign) {\n\t\tcase PopoverHorizontalAlign.Center:\n\t\tcase PopoverHorizontalAlign.Stretch:\n\t\t\tleft = targetRect.left - (popoverSize.width - targetRect.width) / 2;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.Left:\n\t\t\tleft = targetRect.left;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.Right:\n\t\t\tleft = targetRect.right - popoverSize.width;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn left;\n\t}\n\n\tgetHorizontalTop(targetRect, popoverSize) {\n\t\tlet top;\n\n\t\tswitch (this.verticalAlign) {\n\t\tcase PopoverVerticalAlign.Center:\n\t\tcase PopoverVerticalAlign.Stretch:\n\t\t\ttop = targetRect.top - (popoverSize.height - targetRect.height) / 2;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Top:\n\t\t\ttop = targetRect.top;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Bottom:\n\t\t\ttop = targetRect.bottom - popoverSize.height;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn top;\n\t}\n\n\tget isModal() { // Required by Popup.js\n\t\treturn this.modal;\n\t}\n\n\tget _ariaLabelledBy() { // Required by Popup.js\n\t\treturn this.ariaLabel ? undefined : \"ui5-popup-header\";\n\t}\n\n\tget _ariaModal() { // Required by Popup.js\n\t\treturn true;\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\t...super.styles,\n\t\t\tcontent: {\n\t\t\t\t\"max-height\": `${this._maxContentHeight}px`,\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\ttransform: `translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`,\n\t\t\t},\n\t\t};\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\troot: {\n\t\t\t\t\"ui5-popup-root\": true,\n\t\t\t},\n\t\t\tcontent: {\n\t\t\t\t\"ui5-popup-content\": true,\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Hook for descendants to hide header.\n\t */\n\tget _displayHeader() {\n\t\treturn true;\n\t}\n\n\t/**\n\t * Hook for descendants to hide footer.\n\t */\n\tget _displayFooter() {\n\t\treturn true;\n\t}\n}\n\nPopover.define();\n\nexport default Popover;\n"],"names":["PopoverPlacementTypes","Left","Right","Top","Bottom","PopoverPlacementType","value","DataType","generataTypeAcessors","PopoverVerticalAligns","Center","Stretch","PopoverVerticalAlign","PopoverHorizontalAligns","PopoverHorizontalAlign","updateInterval","intervalTimeout","openedRegistry","repositionPopovers","event","forEach","popover","instance","reposition","attachGlobalScrollHandler","document","body","addEventListener","detachGlobalScrollHandler","removeEventListener","runUpdateInterval","setInterval","stopUpdateInterval","clearInterval","attachGlobalClickHandler","clickHandler","detachGlobalClickHandler","openedPopups","getOpenedPopups","isTopPopupPopover","length","openBy","i","popup","isModal","isOpenerClicked","isClickInRect","getBoundingClientRect","close","attachScrollHandler","shadowRoot","detachScrollHandler","addOpenedPopover","parentPopovers","getParentPopoversIfNested","addOpenedPopup","push","removeOpenedPopover","popoversToClose","indexOfCurrentInstance","indexOf","j","indexOfItemToRemove","removeOpenedPopup","itemToClose","splice","currentElement","parentNode","block0","context","html","styleMap","styles","root","classMap","classes","ifDefined","_ariaModal","_ariaLabel","_ariaLabelledBy","forwardToLast","arrow","_displayHeader","block1","undefined","content","_scroll","_displayFooter","block4","forwardToFirst","header","block2","block3","headerText","footer","block5","main","tags","suffix","setTags","setSuffix","registerThemeProperties","defaultThemeBase","defaultTheme","arrowSize","metadata","tag","properties","type","String","placementType","defaultValue","horizontalAlign","verticalAlign","modal","Boolean","noArrow","allowTargetOverlap","disableScrolling","arrowTranslateX","Integer","noAttribute","arrowTranslateY","actualPlacementType","_maxContentHeight","managedSlots","slots","HTMLElement","events","Popover","target","_opener","getFocusDomRef","composedPath","opener","preventInitialFocus","opened","placement","openerRect","threshold","limits","right","left","top","bottom","closedPopupParent","getClosedPopupParent","overflowsBottom","overflowsTop","contentRect","contentDOM","height","innerHeight","show","popoverSize","shouldCloseDueToNoOpener","isFocusWithin","_oldPlacement","calcPlacement","stretching","_preventRepositionAndClose","style","width","_width","popoverOnLeftBorder","_left","popoverOnTopBorder","_top","arrowX","MIN_OFFSET","arrowY","targetRect","clientWidth","documentElement","clientHeight","maxHeight","getActualPlacementType","shouldCloseDueToOverflow","isVertical","_height","arrowOffset","getVerticalLeft","Math","max","min","getHorizontalTop","maxContentHeight","round","hasHeader","headerDomRef","querySelector","offsetHeight","arrowXCentered","abs","fallbackPlacement","rect","visibility","display","hide","ariaLabel","transform","PopupsCommonCss","PopoverCss","PopoverTemplate","Popup","define"],"mappings":"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"}
