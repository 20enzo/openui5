{"version":3,"file":"chunk-f88e3e0b.js","sources":["../../../../../../../../../ui5-webcomponents/packages/base/dist/util/formatMessage.js","../../../../../../../../../ui5-webcomponents/packages/base/dist/i18nBundle.js"],"sourcesContent":["const messageFormatRegEX = /('')|'([^']+(?:''[^']*)*)(?:'|$)|\\{([0-9]+(?:\\s*,[^{}]*)?)\\}|[{}]/g;\n\nconst formatMessage = (text, values) => {\n\tvalues = values || [];\n\n\treturn text.replace(messageFormatRegEX, ($0, $1, $2, $3, offset) => {\n\t\tif ($1) {\n\t\t\treturn '\\''; /* eslint-disable-line */\n\t\t}\n\n\t\tif ($2) {\n\t\t\treturn $2.replace(/''/g, '\\''); /* eslint-disable-line */\n\t\t}\n\n\t\tif ($3) {\n\t\t\treturn String(values[parseInt($3)]);\n\t\t}\n\n\t\tthrow new Error(`[i18n]: pattern syntax error at pos ${offset}`);\n\t});\n};\n\nexport default formatMessage;\n","import { registerI18nBundle, fetchI18nBundle, getI18nBundleData } from \"./asset-registries/i18n.js\";\nimport formatMessage from \"./util/formatMessage.js\";\n\nconst I18nBundleInstances = new Map();\n\n/**\n * @class\n * @public\n */\nclass I18nBundle {\n\tconstructor(packageName) {\n\t\tthis.packageName = packageName;\n\t}\n\n\t/**\n\t * Returns a text in the currently loaded language\n\t *\n\t * @param {Object|String} textObj key/defaultText pair or just the key\n\t * @param params Values for the placeholders\n\t * @returns {*}\n\t */\n\tgetText(textObj, ...params) {\n\t\tif (typeof textObj === \"string\") {\n\t\t\ttextObj = { key: textObj, defaultText: textObj };\n\t\t}\n\n\t\tif (!textObj || !textObj.key) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tconst bundle = getI18nBundleData(this.packageName);\n\t\tconst messageText = bundle && bundle[textObj.key] ? bundle[textObj.key] : (textObj.defaultText || textObj.key);\n\n\t\treturn formatMessage(messageText, params);\n\t}\n}\n\nconst getI18nBundle = packageName => {\n\tif (I18nBundleInstances.has(packageName)) {\n\t\treturn I18nBundleInstances.get(packageName);\n\t}\n\n\tconst i18nBundle = new I18nBundle(packageName);\n\tI18nBundleInstances.set(packageName, i18nBundle);\n\treturn i18nBundle;\n};\n\nexport {\n\tregisterI18nBundle,\n\tfetchI18nBundle,\n\tgetI18nBundle,\n};\n"],"names":["messageFormatRegEX","formatMessage","text","values","replace","$0","$1","$2","$3","offset","String","parseInt","Error","I18nBundleInstances","Map","I18nBundle","packageName","textObj","key","defaultText","bundle","getI18nBundleData","messageText","params","getI18nBundle","has","get","i18nBundle","set"],"mappings":";;CAAA,IAAMA,kBAAkB,GAAG,oEAA3B;;CAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAOC,MAAP,EAAkB;CACvCA,EAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEA,SAAOD,IAAI,CAACE,OAAL,CAAaJ,kBAAb,EAAiC,UAACK,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,EAAiBC,MAAjB,EAA4B;CACnE,QAAIH,EAAJ,EAAQ;CACP,aAAO,IAAP;CAAa;CACb;;CAED,QAAIC,EAAJ,EAAQ;CACP,aAAOA,EAAE,CAACH,OAAH,CAAW,KAAX,EAAkB,IAAlB,CAAP;CAAgC;CAChC;;CAED,QAAII,EAAJ,EAAQ;CACP,aAAOE,MAAM,CAACP,MAAM,CAACQ,QAAQ,CAACH,EAAD,CAAT,CAAP,CAAb;CACA;;CAED,UAAM,IAAII,KAAJ,+CAAiDH,MAAjD,EAAN;CACA,GAdM,CAAP;CAeA,CAlBD;;CCCA,IAAMI,mBAAmB,GAAG,IAAIC,GAAJ,EAA5B;CAEA;;;;;KAIMC;;;CACL,sBAAYC,WAAZ,EAAyB;CAAA;;CACxB,SAAKA,WAAL,GAAmBA,WAAnB;CACA;CAED;;;;;;;;;;;6BAOQC,SAAoB;CAC3B,UAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;CAChCA,QAAAA,OAAO,GAAG;CAAEC,UAAAA,GAAG,EAAED,OAAP;CAAgBE,UAAAA,WAAW,EAAEF;CAA7B,SAAV;CACA;;CAED,UAAI,CAACA,OAAD,IAAY,CAACA,OAAO,CAACC,GAAzB,EAA8B;CAC7B,eAAO,EAAP;CACA;;CAED,UAAME,MAAM,GAAGC,2BAAiB,CAAC,KAAKL,WAAN,CAAhC;CACA,UAAMM,WAAW,GAAGF,MAAM,IAAIA,MAAM,CAACH,OAAO,CAACC,GAAT,CAAhB,GAAgCE,MAAM,CAACH,OAAO,CAACC,GAAT,CAAtC,GAAuDD,OAAO,CAACE,WAAR,IAAuBF,OAAO,CAACC,GAA1G;;CAV2B,wCAARK,MAAQ;CAARA,QAAAA,MAAQ;CAAA;;CAY3B,aAAOtB,aAAa,CAACqB,WAAD,EAAcC,MAAd,CAApB;CACA;;;;;;AAGF,KAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAR,WAAW,EAAI;CACpC,MAAIH,mBAAmB,CAACY,GAApB,CAAwBT,WAAxB,CAAJ,EAA0C;CACzC,WAAOH,mBAAmB,CAACa,GAApB,CAAwBV,WAAxB,CAAP;CACA;;CAED,MAAMW,UAAU,GAAG,IAAIZ,UAAJ,CAAeC,WAAf,CAAnB;CACAH,EAAAA,mBAAmB,CAACe,GAApB,CAAwBZ,WAAxB,EAAqCW,UAArC;CACA,SAAOA,UAAP;CACA,CARD;;;;;;;;"}