{"version":3,"file":"chunk-2ca5b205.js","sources":["../../../../../../../../../ui5-webcomponents/packages/base/dist/types/NavigationMode.js","../../../../../../../../../ui5-webcomponents/packages/base/dist/types/ItemNavigationBehavior.js","../../../../../../../../../ui5-webcomponents/packages/base/dist/delegate/ItemNavigation.js"],"sourcesContent":["const NavigationMode = {\n\tAuto: \"Auto\",\n\tVertical: \"Vertical\",\n\tHorizontal: \"Horizontal\",\n\tPaging: \"Paging\",\n};\nexport default NavigationMode;\n","/**\n * @private\n * Different behavior for ItemNavigation.\n */\nconst ItemNavigationBehavior = {\n\t/**\n\t* Static behavior: when border of the items is reached, you can't go out of the cage.\n \t*/\n\tStatic: \"Static\",\n\n\t/**\n\t* Cycling behavior: when border of the items is reached, you can cycle through the items.\n \t*/\n\tCyclic: \"Cyclic\",\n\n\t/**\n\t* Paging behavior: when border of the items is reached, tou can go up/down based on the rowsize(e.g. DayPicker)\n \t*/\n\tPaging: \"Paging\",\n};\nexport default ItemNavigationBehavior;\n","import RenderScheduler from \"../RenderScheduler.js\";\nimport {\n\tisDown,\n\tisUp,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n} from \"../Keys.js\";\n\nimport EventProvider from \"../EventProvider.js\";\nimport NavigationMode from \"../types/NavigationMode.js\";\nimport ItemNavigationBehavior from \"../types/ItemNavigationBehavior.js\";\n\n// navigatable items must have id and tabindex\nclass ItemNavigation extends EventProvider {\n\tconstructor(rootWebComponent, options = {}) {\n\t\tsuper();\n\n\t\tthis.currentIndex = options.currentIndex || 0;\n\t\tthis.rowSize = options.rowSize || 1;\n\t\tthis.behavior = options.behavior || ItemNavigationBehavior.Static;\n\t\tthis.hasNextPage = true; // used in Paging mode and controlled from the rootWebComponent\n\t\tthis.hasPrevPage = true; // used in Paging mode and controlled from the rootWebComponent\n\t\tconst navigationMode = options.navigationMode;\n\t\tconst autoNavigation = !navigationMode || navigationMode === NavigationMode.Auto;\n\t\tthis.horizontalNavigationOn = autoNavigation || navigationMode === NavigationMode.Horizontal;\n\t\tthis.verticalNavigationOn = autoNavigation || navigationMode === NavigationMode.Vertical;\n\n\t\tthis.pageSize = options.pageSize;\n\n\t\tthis.rootWebComponent = rootWebComponent;\n\t\tthis.rootWebComponent.addEventListener(\"keydown\", this.onkeydown.bind(this));\n\t\tthis.rootWebComponent._onComponentStateFinalized = () => {\n\t\t\tthis._init();\n\t\t};\n\t}\n\n\t_init() {\n\t\tthis._getItems().forEach((item, idx) => {\n\t\t\titem._tabIndex = (idx === this.currentIndex) ? \"0\" : \"-1\";\n\t\t});\n\t}\n\n\t_horizontalNavigationOn() {\n\t\treturn this.horizontalNavigationOn;\n\t}\n\n\t_verticalNavigationOn() {\n\t\treturn this.verticalNavigationOn;\n\t}\n\n\tasync _onKeyPress(event) {\n\t\tif (this.currentIndex >= this._getItems().length) {\n\t\t\tthis.onOverflowBottomEdge();\n\t\t} else if (this.currentIndex < 0) {\n\t\t\tthis.onOverflowTopEdge();\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tawait RenderScheduler.whenFinished();\n\n\t\tthis.update();\n\t\tthis.focusCurrent();\n\t}\n\n\tonkeydown(event) {\n\t\tif (isUp(event) && this._verticalNavigationOn()) {\n\t\t\treturn this._handleUp(event);\n\t\t}\n\n\t\tif (isDown(event) && this._verticalNavigationOn()) {\n\t\t\treturn this._handleDown(event);\n\t\t}\n\n\t\tif (isLeft(event) && this._horizontalNavigationOn()) {\n\t\t\treturn this._handleLeft(event);\n\t\t}\n\n\t\tif (isRight(event) && this._horizontalNavigationOn()) {\n\t\t\treturn this._handleRight(event);\n\t\t}\n\n\t\tif (isHome(event)) {\n\t\t\treturn this._handleHome(event);\n\t\t}\n\n\t\tif (isEnd(event)) {\n\t\t\treturn this._handleEnd(event);\n\t\t}\n\t}\n\n\t_handleUp(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tthis.currentIndex -= this.rowSize;\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\t_handleDown(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tthis.currentIndex += this.rowSize;\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\t_handleLeft(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tthis.currentIndex -= 1;\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\t_handleRight(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tthis.currentIndex += 1;\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\t_handleHome(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tconst homeEndRange = this.rowSize > 1 ? this.rowSize : this._getItems().length;\n\t\t\tthis.currentIndex -= this.currentIndex % homeEndRange;\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\t_handleEnd(event) {\n\t\tif (this._canNavigate()) {\n\t\t\tconst homeEndRange = this.rowSize > 1 ? this.rowSize : this._getItems().length;\n\t\t\tthis.currentIndex += (homeEndRange - 1 - this.currentIndex % homeEndRange); // eslint-disable-line\n\t\t\tthis._onKeyPress(event);\n\t\t}\n\t}\n\n\tupdate(current) {\n\t\tconst origItems = this._getItems();\n\n\t\tif (current) {\n\t\t\tthis.currentIndex = this._getItems().indexOf(current);\n\t\t}\n\n\t\tif (!origItems[this.currentIndex]\n\t\t\t|| (origItems[this.currentIndex]._tabIndex && origItems[this.currentIndex]._tabIndex === \"0\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst items = origItems.slice(0);\n\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\titems[i]._tabIndex = (i === this.currentIndex ? \"0\" : \"-1\");\n\t\t}\n\n\n\t\tthis.rootWebComponent._invalidate();\n\t}\n\n\tfocusCurrent() {\n\t\tconst currentItem = this._getCurrentItem();\n\t\tif (currentItem) {\n\t\t\tcurrentItem.focus();\n\t\t}\n\t}\n\n\t_canNavigate() {\n\t\tconst currentItem = this._getCurrentItem();\n\n\t\tlet activeElement = document.activeElement;\n\n\t\twhile (activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n\t\t\tactiveElement = activeElement.shadowRoot.activeElement;\n\t\t}\n\n\t\treturn currentItem && currentItem === activeElement;\n\t}\n\n\t_getCurrentItem() {\n\t\tconst items = this._getItems();\n\n\t\tif (!items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// normalize the index\n\t\twhile (this.currentIndex >= items.length) {\n\t\t\tthis.currentIndex -= this.rowSize;\n\t\t}\n\n\t\tif (this.currentIndex < 0) {\n\t\t\tthis.currentIndex = 0;\n\t\t}\n\n\t\tconst currentItem = items[this.currentIndex];\n\n\t\tif (!currentItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentItem.isUI5Element) {\n\t\t\treturn currentItem.getFocusDomRef();\n\t\t}\n\n\t\tif (!this.rootWebComponent.getDomRef()) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.rootWebComponent.getDomRef().querySelector(`#${currentItem.id}`);\n\t}\n\n\tset getItemsCallback(fn) {\n\t\tthis._getItems = fn;\n\t}\n\n\tset current(val) {\n\t\tthis.currentIndex = val;\n\t}\n\n\tonOverflowBottomEdge() {\n\t\tconst items = this._getItems();\n\t\tconst offset = this.currentIndex - items.length;\n\n\t\tif (this.behavior === ItemNavigationBehavior.Cyclic) {\n\t\t\tthis.currentIndex = 0;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.behavior === ItemNavigationBehavior.Paging) {\n\t\t\tthis._handleNextPage();\n\t\t} else {\n\t\t\tthis.currentIndex = items.length - 1;\n\t\t}\n\n\t\tthis.fireEvent(ItemNavigation.BORDER_REACH, { start: false, end: true, offset });\n\t}\n\n\tonOverflowTopEdge() {\n\t\tconst items = this._getItems();\n\t\tconst offset = this.currentIndex + this.rowSize;\n\n\t\tif (this.behavior === ItemNavigationBehavior.Cyclic) {\n\t\t\tthis.currentIndex = items.length - 1;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.behavior === ItemNavigationBehavior.Paging) {\n\t\t\tthis._handlePrevPage();\n\t\t} else {\n\t\t\tthis.currentIndex = 0;\n\t\t}\n\n\t\tthis.fireEvent(ItemNavigation.BORDER_REACH, { start: true, end: false, offset });\n\t}\n\n\t_handleNextPage() {\n\t\tthis.fireEvent(ItemNavigation.PAGE_BOTTOM);\n\t\tconst items = this._getItems();\n\n\t\tif (!this.hasNextPage) {\n\t\t\tthis.currentIndex = items.length - 1;\n\t\t} else {\n\t\t\tthis.currentIndex -= this.pageSize;\n\t\t}\n\t}\n\n\t_handlePrevPage() {\n\t\tthis.fireEvent(ItemNavigation.PAGE_TOP);\n\n\t\tif (!this.hasPrevPage) {\n\t\t\tthis.currentIndex = 0;\n\t\t} else {\n\t\t\tthis.currentIndex = this.pageSize + this.currentIndex;\n\t\t}\n\t}\n}\n\nItemNavigation.PAGE_TOP = \"PageTop\";\nItemNavigation.PAGE_BOTTOM = \"PageBottom\";\nItemNavigation.BORDER_REACH = \"_borderReach\";\n\nexport default ItemNavigation;\n"],"names":["NavigationMode","Auto","Vertical","Horizontal","Paging","ItemNavigationBehavior","Static","Cyclic","ItemNavigation","rootWebComponent","options","currentIndex","rowSize","behavior","hasNextPage","hasPrevPage","navigationMode","autoNavigation","horizontalNavigationOn","verticalNavigationOn","pageSize","addEventListener","onkeydown","bind","_onComponentStateFinalized","_init","_getItems","forEach","item","idx","_tabIndex","event","length","onOverflowBottomEdge","onOverflowTopEdge","preventDefault","RenderScheduler","whenFinished","update","focusCurrent","isUp","_verticalNavigationOn","_handleUp","isDown","_handleDown","isLeft","_horizontalNavigationOn","_handleLeft","isRight","_handleRight","isHome","_handleHome","isEnd","_handleEnd","_canNavigate","_onKeyPress","homeEndRange","current","origItems","indexOf","items","slice","i","_invalidate","currentItem","_getCurrentItem","focus","activeElement","document","shadowRoot","isUI5Element","getFocusDomRef","getDomRef","querySelector","id","offset","_handleNextPage","fireEvent","BORDER_REACH","start","end","_handlePrevPage","PAGE_BOTTOM","PAGE_TOP","fn","val","EventProvider"],"mappings":"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"}