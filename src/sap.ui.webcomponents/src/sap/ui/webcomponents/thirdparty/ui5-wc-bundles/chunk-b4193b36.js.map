{"version":3,"file":"chunk-b4193b36.js","sources":["../../../../../../../../../ui5-webcomponents/packages/base/dist/delegate/NativeResize.js","../../../../../../../../../ui5-webcomponents/packages/base/dist/delegate/CustomResize.js","../../../../../../../../../ui5-webcomponents/packages/base/dist/delegate/ResizeHandler.js"],"sourcesContent":["class NativeResize {\n\tstatic initialize() {\n\t\tNativeResize.resizeObserver = new window.ResizeObserver(entries => {\n\t\t\t// call attached callbacks\n\t\t\tentries.forEach(entry => {\n\t\t\t\tconst callbacks = NativeResize.observedObjects.get(entry.target);\n\n\t\t\t\tcallbacks.forEach(el => el());\n\t\t\t});\n\t\t});\n\n\t\tNativeResize.observedObjects = new Map();\n\t}\n\n\tstatic attachListener(ref, callback) {\n\t\tconst observedDOMs = NativeResize.observedObjects;\n\t\tconst callbacks = observedDOMs.get(ref) || [];\n\n\t\t// if no callbacks has been added for this ref - start observing it\n\t\tif (!callbacks.length) {\n\t\t\tNativeResize.resizeObserver.observe(ref);\n\t\t}\n\n\t\t// save the callbacks in an array\n\t\tobservedDOMs.set(ref, [...callbacks, callback]);\n\t}\n\n\tstatic detachListener(ref, callback) {\n\t\tconst callbacks = NativeResize.observedObjects.get(ref) || [];\n\t\tconst filteredCallbacks = callbacks.filter(fn => fn !== callback);\n\n\t\tif (!callbacks.length || (callbacks.length === filteredCallbacks.length && callbacks.length !== 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tNativeResize.observedObjects.set(ref, filteredCallbacks);\n\n\t\tif (!filteredCallbacks.length) {\n\t\t\tNativeResize.resizeObserver.unobserve(ref);\n\t\t}\n\t}\n}\n\nexport default NativeResize;\n","const INTERVAL = 300;\n\nclass CustomResize {\n\tstatic initialize() {\n\t\tCustomResize.initialized = false;\n\t\tCustomResize.resizeInterval = undefined;\n\t\tCustomResize.resizeListeners = new Map();\n\t}\n\n\tstatic attachListener(ref, callback) {\n\t\tconst observedObject = CustomResize.resizeListeners.get(ref);\n\t\tconst existingCallbacks = observedObject ? observedObject.callbacks : [];\n\n\t\tCustomResize.resizeListeners.set(ref, {\n\t\t\twidth: ref ? ref.offsetWidth : 0,\n\t\t\theight: ref ? ref.offsetHeight : 0,\n\t\t\tcallbacks: existingCallbacks.concat(callback),\n\t\t});\n\n\t\tCustomResize.initListener();\n\t}\n\n\tstatic initListener() {\n\t\tif (CustomResize.resizeListeners.size > 0 && !CustomResize.initialized) {\n\t\t\tCustomResize.resizeInterval = setInterval(CustomResize.checkListeners.bind(CustomResize), INTERVAL);\n\t\t}\n\t}\n\n\tstatic checkListeners() {\n\t\tCustomResize.resizeListeners.forEach((entry, ref) => {\n\t\t\tconst changed = CustomResize.checkSizes(entry, ref);\n\n\t\t\tif (changed || (entry && !entry._hasBeenRendered)) {\n\t\t\t\tCustomResize.updateSizes(entry, ref.offsetWidth, ref.offsetHeight);\n\t\t\t\tentry.callbacks.forEach(el => el());\n\t\t\t\tentry._hasBeenRendered = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic updateSizes(sizes, newWidth, newHeight) {\n\t\tsizes.width = newWidth;\n\t\tsizes.height = newHeight;\n\t}\n\n\tstatic checkSizes(entry, ref) {\n\t\tconst oldHeight = entry.height;\n\t\tconst oldWidth = entry.width;\n\t\tconst newHeight = ref.offsetHeight;\n\t\tconst newWidth = ref.offsetWidth;\n\n\t\treturn ((oldHeight !== newHeight) || oldWidth !== newWidth);\n\t}\n\n\tstatic detachListener(ref, callback) {\n\t\tconst listenerObject = CustomResize.resizeListeners.get(ref);\n\t\tconst callbacks = listenerObject ? listenerObject.callbacks : [];\n\t\tconst filteredCallbacks = callbacks.filter(fn => fn !== callback);\n\n\t\tif (!listenerObject || (callbacks.length === filteredCallbacks.length && callbacks.length !== 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tCustomResize.resizeListeners.set(ref, Object.assign(listenerObject, { callbacks: filteredCallbacks }));\n\n\t\tif (!filteredCallbacks.length) {\n\t\t\tlistenerObject.callbacks = null;\n\t\t\tCustomResize.resizeListeners.delete(ref);\n\t\t}\n\n\t\tif (CustomResize.resizeListeners.size === 0) {\n\t\t\tCustomResize.initialized = false;\n\t\t\tclearInterval(CustomResize.resizeInterval);\n\t\t}\n\t}\n}\n\nexport default CustomResize;\n","import NativeResize from \"./NativeResize.js\";\nimport CustomResize from \"./CustomResize.js\";\n\nclass ResizeHandler {\n\tstatic initialize() {\n\t\tResizeHandler.Implementation = window.ResizeObserver ? NativeResize : CustomResize;\n\t\tResizeHandler.Implementation.initialize();\n\t}\n\n\t/**\n\t * @static\n\t * @private\n\t * @param {*} ref Reference to be observed\n\t * @param {*} callback Callback to be executed\n\t * @memberof ResizeHandler\n\t */\n\tstatic attachListener(ref, callback) {\n\t\tResizeHandler.Implementation.attachListener.call(ResizeHandler.Implementation, ref, callback);\n\t}\n\n\t/**\n\t * @static\n\t * @private\n\t * @param {*} ref Reference to be unobserved\n\t * @memberof ResizeHandler\n\t */\n\tstatic detachListener(ref, callback) {\n\t\tResizeHandler.Implementation.detachListener.call(ResizeHandler.Implementation, ref, callback);\n\t}\n\n\n\t/**\n\t * @static\n\t * @public\n\t * @param {*} ref Reference to a UI5 Web Component or DOM Element to be observed\n\t * @param {*} callback Callback to be executed\n\t * @memberof ResizeHandler\n\t */\n\tstatic register(ref, callback) {\n\t\tif (ref.isUI5Element) {\n\t\t\tref = ref.getDomRef();\n\t\t}\n\n\t\tResizeHandler.attachListener(ref, callback);\n\t}\n\n\n\t/**\n\t * @static\n\t * @public\n\t * @param {*} ref Reference to UI5 Web Component or DOM Element to be unobserved\n\t * @memberof ResizeHandler\n\t */\n\tstatic deregister(ref, callback) {\n\t\tif (ref.isUI5Element) {\n\t\t\tref = ref.getDomRef();\n\t\t}\n\n\t\tResizeHandler.detachListener(ref, callback);\n\t}\n}\n\nResizeHandler.initialize();\n\nexport default ResizeHandler;\n"],"names":["NativeResize","resizeObserver","window","ResizeObserver","entries","forEach","entry","callbacks","observedObjects","get","target","el","Map","ref","callback","observedDOMs","length","observe","set","filteredCallbacks","filter","fn","unobserve","INTERVAL","CustomResize","initialized","resizeInterval","undefined","resizeListeners","observedObject","existingCallbacks","width","offsetWidth","height","offsetHeight","concat","initListener","size","setInterval","checkListeners","bind","changed","checkSizes","_hasBeenRendered","updateSizes","sizes","newWidth","newHeight","oldHeight","oldWidth","listenerObject","Object","assign","clearInterval","ResizeHandler","Implementation","initialize","attachListener","call","detachListener","isUI5Element","getDomRef"],"mappings":"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"}